CREATE VIEW vwOrderDriver
AS
SELECT 
    Ord.Id AS OrdId,
    Ord.Comment AS OrdComment,
    Ord.StartDateTime AS OrdStartDateTime,
    Ord.ControlDateTime AS OrdControlDateTime,
    Ord.CloseDateTime AS OrdCloseDateTime,
    Drv.Id AS DrvId,
    Drv.Comment AS DrvComment,
    Drv.BalanceAccountId AS DrvBalanceAccountId,
    Drv.BalanceAccountComment AS DrvBalanceAccountComment,
    Drv.BalanceAccountBalance AS DrvBalanceAccountBalance,
    Drv.BalanceAccountAccountState AS DrvBalanceAccountAccountState,
    Drv.EmployeeId AS DrvEmployeeId,
    Drv.EmployeeComment AS DrvEmployeeComment,
    Drv.EmployeePosition AS DrvEmployeePosition,
    Drv.EmployeePersonId AS DrvEmployeePersonId,
    Drv.EmployeePersonComment AS DrvEmployeePersonComment,
    Drv.EmployeePersonFirstName AS DrvEmployeePersonFirstName,
    Drv.EmployeePersonSurname AS DrvEmployeePersonSurname,
    Drv.EmployeePersonPatronymicName AS DrvEmployeePersonPatronymicName,
    Drv.EmployeePersonGender AS DrvEmployeePersonGender,
    Drv.EmployeePersonMaritalStatus AS DrvEmployeePersonMaritalStatus,
    Drv.EmployeePersonBirthDate AS DrvEmployeePersonBirthDate,
    Drv.EmployeePersonAmountOfChildren AS DrvEmployeePersonAmountOfChildren,
    Drv.EmployeePersonAddressOfCurrLivingPlace AS DrvEmployeePersonAddressOfCurrLivingPlace,
    Drv.EmployeePersonContactsId AS DrvEmployeePersonContactsId,
    Drv.EmployeePersonContactsActualAddress AS DrvEmployeePersonContactsActualAddress,
    Drv.EmployeePersonContactsFormalAddress AS DrvEmployeePersonContactsFormalAddress,
    Drv.EmployeePersonContactsPersonalMobilePhone AS DrvEmployeePersonContactsPersonalMobilePhone,
    Drv.EmployeePersonContactsWorkMobilePhone AS DrvEmployeePersonContactsWorkMobilePhone,
    Drv.EmployeePersonContactsHomePhone AS DrvEmployeePersonContactsHomePhone,
    Drv.EmployeePersonContactsWorkPhone AS DrvEmployeePersonContactsWorkPhone,
    Drv.EmployeePersonContactsPersonalEMail AS DrvEmployeePersonContactsPersonalEMail,
    Drv.EmployeePersonContactsWorkEMail AS DrvEmployeePersonContactsWorkEMail,
    Drv.EmployeePersonContactsMessenger1 AS DrvEmployeePersonContactsMessenger1,
    Drv.EmployeePersonContactsMessenger2 AS DrvEmployeePersonContactsMessenger2,
    Drv.EmployeePersonContactsMessenger3 AS DrvEmployeePersonContactsMessenger3,
    Drv.EmployeePersonPassportInfoId AS DrvEmployeePersonPassportInfoId,
    Drv.EmployeePersonPassportInfoComment AS DrvEmployeePersonPassportInfoComment,
    Drv.EmployeePersonPassportInfoSeries AS DrvEmployeePersonPassportInfoSeries,
    Drv.EmployeePersonPassportInfoNumber AS DrvEmployeePersonPassportInfoNumber,
    Drv.EmployeePersonPassportInfoIssueDate AS DrvEmployeePersonPassportInfoIssueDate,
    Drv.EmployeePersonPassportInfoWhoIsIssuer AS DrvEmployeePersonPassportInfoWhoIsIssuer,
    Drv.EmployeePersonPassportInfoAddressOfResidence AS DrvEmployeePersonPassportInfoAddressOfResidence,
    Drv.EmployeePersonPassportInfoAddressOfRegistration AS DrvEmployeePersonPassportInfoAddressOfRegistration,
    Drv.EmployeePersonPassportInfoLastChangeDate AS DrvEmployeePersonPassportInfoLastChangeDate
FROM [n2mOrderDriver] [OrdDrv] 
LEFT JOIN [tblOrder] [Ord] ON [OrdDrv].[Order]=[Ord].[Id]
LEFT JOIN [tblDriver] [Drv] ON [OrdDrv].[Driver]=[Drv].[Id]
GO
